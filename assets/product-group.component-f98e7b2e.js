import{_ as p,r as h,o as r,c as n,b as s,t as g,a as f,i as a,H as b,I as L,F as v,d as M,h as u,n as m,j as w}from"./index-5c33ae46.js";const V={props:{text:{default:"Cargando...",required:!1,type:String}}},N={class:"content-margin flex-col align-center"},k={class:"text-4 margin-1"},q={class:"margin-1"};function T(e,t,o,x,c,l){const d=h("pv-progress-bar");return r(),n("div",N,[s("div",k,g(o.text),1),s("div",q,[f(d,{style:{width:"24rem"},mode:"indeterminate"})])])}const $=p(V,[["render",T]]);const A={components:{loadingComponent:$},props:{categories:{required:!0},rows:{required:!1,default:2},category:{type:Number,required:!1,default:a},subcategory:{type:Number,required:!1,default:a},franchise:{type:Number,required:!1,default:a},searchLabel:{required:!1,default:a},isManga:{required:!1,default:!1},pricesLimit:{min:{required:!1,default:Number.MIN_VALUE},max:{required:!1,default:Number.MAX_VALUE},required:!1,default:{min:Number.MIN_VALUE,max:Number.MAX_VALUE}}},data(){return{products:[],productsHeight:this.productsHeight=14+15*(this.rows-1),limit:this.rows*15,productLimits:{min:Number.MAX_VALUE,max:Number.MIN_VALUE}}},methods:{ignoreThisPart(){return a},getProducts(){this.productLimits={min:Number.MAX_VALUE,max:Number.MIN_VALUE},this.searchLabel!==a?b(this.searchLabel,this.limit,this.category,this.subcategory,this.franchise).then(e=>{for(let t=0;t<e.length;t++)e[t].imageOpacity=1,e[t].showText=0,e[t].price<this.productLimits.min&&(this.productLimits.min=e[t].price),this.productLimits.max<e[t].price&&(this.productLimits.max=e[t].price);this.products=e,this.$emit("prices",this.productLimits)}).catch(e=>{console.log(e)}):L(this.limit,this.category,this.subcategory,this.franchise).then(e=>{for(let t=0;t<e.length;t++)e[t].showText="16rem",e[t].imageOpacity=1,e[t].price<this.productLimits.min&&(this.productLimits.min=e[t].price),this.productLimits.max<e[t].price&&(this.productLimits.max=e[t].price);this.products=e,this.$emit("prices",this.productLimits)}).catch(e=>{console.log(e)})},showText(e){this.isManga?e.showText="15rem":e.showText="8rem",e.imageOpacity=.3},hideText(e){this.isManga?e.showText="22rem":e.showText="16rem",e.imageOpacity=1},showProduct(e){this.$emit("product",e)}},created(){this.isManga&&(this.productsHeight=21+22*(this.rows-1)),this.getProducts()},watch:{searchLabel:{handler:function(e,t){this.getProducts()}},category:{handler:function(e,t){this.getProducts()}},subcategory:{handler:function(e,t){this.getProducts()}},franchise:{handler:function(e,t){this.getProducts()}}}},P={key:0},E=["onMouseenter","onMouseleave","onClick"],C={class:"product-text text-2 montserrat title"},U={class:"product-text text-0 montserrat franchise"},H={key:1},I=s("div",{class:"align-center"}," Lo sentimos, no existen productos que cumplan con los criterios de bÃºsqueda propuestos ",-1),O=[I];function B(e,t,o,x,c,l){const d=h("pv-image"),y=h("loading-component");return c.products?(r(),n("div",P,[s("div",{class:"flex-auto gap-2 products",style:m(`max-height: ${c.productsHeight}rem`)},[(r(!0),n(v,null,M(c.products,i=>(r(),n("div",{class:u(["width-min",this.isManga?"manga-black-background":"black-background border-radius"]),key:i.id,onMouseenter:_=>l.showText(i),onMouseleave:_=>l.hideText(i),onClick:_=>l.showProduct(i),style:m(o.pricesLimit.min<=i.price&&i.price<=o.pricesLimit.max?"display: block;":"display: none;")},[s("div",{class:u(this.isManga?"manga-container":"product-container")},[s("div",{class:"data",style:m(`top: ${i.showText};`)},[s("div",C,g(i.name),1),s("div",U,g(o.categories[i.category].subcategory[i.subcategory].franchise[i.franchise].name),1)],4),f(d,{src:`/images/product-images/${i.id}/${i.image[0]}`,alt:i.name,class:u(["background-image",this.isManga?"manga-image":"image"]),style:m(`opacity: ${i.imageOpacity};`)},null,8,["src","alt","style","class"])],2)],46,E))),128))],4)])):c.products.length===0?(r(),n("div",H,O)):(r(),w(y,{key:2,text:"Cargando productos..."}))}const S=p(A,[["render",B]]);export{$ as l,S as p};
