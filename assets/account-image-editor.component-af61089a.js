import{_ as m,s as i,f as d,A as _,r as g,o as n,c as r,b as a,F as f,d as p,j as I,a as L,h as M}from"./index-5c33ae46.js";import{n as v}from"./not-logged-in.component-63b4e656.js";const k={components:{notLoggedInComponent:v},methods:{getUserInfo(e){e!=null&&e?(this.userInfo=e,this.isUserLogged||(this.isUserLogged=!0),this.currentMode=i.methods.getCurrentMode()):this.isUserLogged&&(this.isUserLogged=!1)},getMode(e){this.isDarkMode=e,this.currentMode=i.methods.getCurrentMode()},tryChangeProfilePhoto(e,c){this.errorMessage=!0,this.userInfo.image=e,this.userInfo.imageName=c,d.methods.updatePersonalInformation(this.userInfo).then(t=>{t&&t.id>0&&this.$emit("logged")}).catch(t=>{console.log(t)})},initializeImageList(){_().then(e=>{this.imageList=e})}},data(){return{userInfo:null,isDarkMode:!1,currentMode:"light",isUserLogged:!1,errorMessage:"",imageList:[]}},created(){this.userInfo=d.methods.watchUser(this.getUserInfo),this.isUserLogged=!!this.userInfo,this.isDarkMode=i.methods.watchDarkMode(this.getMode),this.currentMode=i.methods.getCurrentMode(),this.initializeImageList()}},C={key:0},y={class:"flex-column"},x=a("div",{class:"text-6 align-center margin-2-height"}," Elige una nueva Imagen de Perfil ",-1),U={class:"flex-auto align-center gap-2"};function P(e,c,t,B,o,l){const h=g("pv-image"),u=g("not-logged-in-component");return o.isUserLogged?(n(),r("div",C,[a("div",y,[x,a("div",U,[(n(!0),r(f,null,p(o.imageList,s=>(n(),r("div",{key:s.id},[L(h,{class:M(["profile-picure",{highlight:o.userInfo&&s.id===o.userInfo.image}]),src:`/images/profile/${s.location}`,onClick:D=>l.tryChangeProfilePhoto(s.id,s.location)},null,8,["src","class","onClick"])]))),128))])])])):(n(),I(u,{key:1}))}const N=m(k,[["render",P]]);export{N as default};
